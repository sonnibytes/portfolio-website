<!----
 * AURA Portfolio - Home Template
 * Advanced User Repository & Archive
 * Version: 3.0.0 - Old Landing Styling Reworked with Learning-Focused Metrics
---->


{% extends "base.html" %}
{% load static %}
{% load system_tags %}

{% block title %}AURA | Advanced User Repository & Archive{% endblock %}
{% block meta_description %}AURA - Advanced User Repository & Archive showcasing Python development, machine learning systems, and data engineering solutions.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/resume-download.css' %}">
<link rel="stylesheet" href="{% static 'core/css/backup/archived_home.css' %}">
{% endblock %}

{% block body_class %}aura-homepage{% endblock %}

{% block loading_screen %}
<!-- AURA Loading Screen (3-Phase Animation) -->
{% comment %} <div class="loading-screen" id="loadingScreen">
    <div class="loading-container" id="loadingContainer">
        <div class="aura-logo">AURA</div>
        <div class="aura-subtitle">ADVANCED USER REPOSITORY & ARCHIVE</div>
        <div class="loading-progress">
            <div class="progress-bar"></div>
        </div>
        <div class="loading-text">Initializing systems...</div>
    </div>
    
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-message">WELCOME TO AURA</div>
    </div>
</div> {% endcomment %}
{% endblock %}

{% block content %}
<!-- Hero Dashboard Section -->
<section class="hero-dashboard">
    <div class="container">
        <!-- Main Welcome Panel -->
        <div class="glass-card hero-welcome-panel">
            <h1 class="hero-title">[ AURA SYSTEM ONLINE ]</h1>
            <p class="hero-subtitle">ADVANCED USER REPOSITORY & ARCHIVE</p>
            <div class="hero-description">
                Welcome to my development universe. Explore Python systems (projects), machine learning implementations,
                and data engineering solutions, as well as technical documentation via DataLogs (blog), all through an advanced 
                HUD interface designed for seamless navigation and comprehensive project analysis.
            </div>
            
            <div class="system-status-display">
                <div class="status-metric">
                    <div class="status-metric-icon">
                        <i class="fas fa-timeline"></i>
                    </div>
                    <div class="status-metric-content">
                        <span class="status-metric-value">{{ learning_journey.duration_years|default:"2+ Years" }}</span>
                        <span class="status-metric-label">Learning Journey</span>
                    </div>
                </div>
                <div class="status-metric">
                    <div class="status-metric-icon">
                        <i class="fas fa-stopwatch"></i>
                    </div>
                    <div class="status-metric-content">
                        <span class="status-metric-value">{{ learning_journey.learning_hours|default:"270.2+" }}</span>
                        <span class="status-metric-label">Course Content Hours</span>
                    </div>
                </div>
                <div class="status-metric">
                    <div class="status-metric-icon">
                        <i class="fas fa-diagram-project"></i>
                    </div>
                    <div class="status-metric-content">
                        <span class="status-metric-value">{{ total_systems|default:'8' }}</span>
                        <span class="status-metric-label">Total Systems</span>
                    </div>
                </div>
                <div class="status-metric">
                    <div class="status-metric-icon">
                        <i class="fas fa-terminal"></i>
                    </div>
                    <div class="status-metric-content">
                        <span class="status-metric-value">{{ total_logs|default:"24" }}</span>
                        <span class="status-metric-label">DataLog Entries</span>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</section>

<!-- Quick Stats Section -->
<section class="quick-stats-section">
    <div class="container">
        <div class="quick-stats-grid">
            <div class="glass-card quick-stat-card teal">
                <div class="quick-stat-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ active_systems|default:'8' }}">{{ total_systems|default:'8' }}</span>
                <div class="quick-stat-label">Active Systems</div>
                <div class="quick-stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> +2 this month
                </div>
            </div>

            <div class="glass-card quick-stat-card coral">
                <div class="quick-stat-icon">
                    <i class="fas fa-route"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ in_development|default:'5' }}">{{ in_development|default:'5' }}</span>
                <div class="quick-stat-label">In Development</div>
                <div class="quick-stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> +1 this week
                </div>
            </div>
            
            <div class="glass-card quick-stat-card lavender">
                <div class="quick-stat-icon">
                    <i class="fas fa-cogs"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ technologies_count|default:'15' }}">{{ technologies_count|default:'15' }}</span>
                <div class="quick-stat-label">Technologies</div>
                <div class="quick-stat-trend trend-neutral">
                    <i class="fas fa-minus"></i> Stable
                </div>
            </div>
            
            <div class="glass-card quick-stat-card mint">
                <div class="quick-stat-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ recent_logs|default:'12' }}">{{ recent_logs|default:'12' }}</span>
                <div class="quick-stat-label">Recent Logs</div>
                <div class="quick-stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> +3 this week
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Systems Section -->
<section class="featured-systems-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Featured Systems</h2>
            <p class="section-subtitle">Advanced Python implementations and machine learning solutions</p>
        </div>
        
        <div class="featured-systems-grid">
            {% for system in featured_systems %}
            <div class="glass-card system-card">
                <div class="system-card-header">
                    <div class="system-badge">{{ system.system_id|default:"SYS-001" }}</div>
                    <div class="system-status">
                        <div class="status-indicator {{ system.status|get_status_indicator }}"></div>
                        <span>{{ system.get_status_display|default:"Published" }}</span>
                    </div>
                </div>
                
                {% if system.thumbnail %}
                <div class="system-image">
                    <img src="{{ system.thumbnail.url }}" alt="{{ system.title }}">
                </div>
                {% else %}
                <div class="system-image">
                    <div class="system-image-placeholder">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                </div>
                {% endif %}
                
                <div class="system-card-content">
                    <div class="system-header">
                    <h3 class="system-title">{{ system.title }}</h3>
                    {% if system.system_type %}
                        <p class="system-card-subtitle">
                            <i class="fas fa-{{ system.system_type.icon|default:'apps' }}"></i> 
                            {{ system.system_type.name }}
                        </p>
                    {% endif %}
                    <!-- Learning Stage Badge -->
                    <div class="learning-stage-badge learning-stage-{{ system.learning_stage }}">
                        {{ system.get_learning_stage_display }}
                    </div>
                </div>

                    <p class="system-description">{{ system.excerpt|default:system.description|truncatewords:20 }}</p>
                    
                    <div class="system-metrics">
                        <div class="system-metric">
                            <span class="system-metric-value">{{ system.complexity|default:"3" }}/5</span>
                            <span class="system-metric-label">Complexity</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">
                                {% if system.actual_dev_hours %}
                                    {{ system.actual_dev_hours }}h
                                {% elif system.estimated_dev_hours %}
                                    ~{{ system.estimated_dev_hours }}h
                                {% else %}
                                    0h
                                {% endif %}
                            </span>
                            <span class="system-metric-label">Time Invested</span>
                        </div>
                    </div>

                    <!-- Technology Stack -->
                    <div class="tech-stack-container">
                        <div class="metric-label" style="padding-top: 1rem; padding-bottom: 0.5rem;">
                            Tech Stack
                        </div>
                        <div class="system-tech-stack">
                            {% for tech in system.technologies.all|slice:":4" %}
                            <span class="tech-tag">{{ tech.name }}</span>
                            {% empty %}
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Django</span>
                            <span class="tech-tag">PostgreSQL</span>
                            {% endfor %}
                        </div>
                    </div>
                    <!-- Skills Pills -->
                    {% if system.skills_developed.all %}
                    
                    <div class="skills-pills-container">
                        <div class="metric-label" style="padding-top: 1rem; padding-bottom: 0.5rem;">
                            Skills
                        </div>
                        <div class="skills-pills">
                        {% for skill in system.skills_developed.all|slice:":4" %}
                        <span class="skill-pill">{{ skill.name }}</span>
                        {% endfor %}
                        {% if system.skills_developed.count > 4 %}
                        <span class="skill-pill more">+{{ system.skills_developed.count|add:"-4" }} more</span>
                        {% endif %}
                        </div>
                        
                    </div>
                    
                    {% endif %}
                </div>
                
                <div class="system-card-footer">
                    <div class="learning-progress progress-section">
                        <div class="progress-info">
                            <span>Progress</span>
                            <span>{{ system.completion_percent|default:0 }}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill learning-progress-{{ system.learning_stage }}" 
                                 style="width: {{ system.completion_percent|default:0 }}%;"></div>
                        </div>
                    </div>
                    
                    <div class="system-actions">
                        <a href="{{ system.get_absolute_url }}" title="View System Details" class="action-btn">
                            <i class="fas fa-eye"></i>
                            <span>View</span>
                        </a>
                        {% if system.github_url %}
                        <a href="{{ system.github_url }}" target="_blank" title="View on GitHub" class="action-btn">
                            <i class="fab fa-github"></i>
                        </a>
                        {% endif %}
                        {% if system.live_url %}
                        <a href="{{ system.live_url }}" target="_blank" title="View Demo/Live" class="action-btn">
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% empty %}
            <!-- Fallback featured systems -->
            <div class="glass-card system-card">
                <div class="system-card-header">
                    <div class="system-badge">SYS-001</div>
                    <div class="system-status">
                        <div class="status-indicator operational"></div>
                        <span>Deployed</span>
                    </div>
                </div>
                
                <div class="system-image">
                    <div class="system-image-placeholder">
                        <i class="fas fa-brain"></i>
                    </div>
                </div>
                
                <div class="system-card-content">
                    <h3 class="system-title">ML Classification System</h3>
                    <p class="system-description">Advanced machine learning pipeline for data classification with real-time prediction capabilities and automated model optimization.</p>
                    
                    <div class="system-metrics">
                        <div class="system-metric">
                            <span class="system-metric-value">100%</span>
                            <span class="system-metric-label">Complete</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">4/5</span>
                            <span class="system-metric-label">Complexity</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">6</span>
                            <span class="system-metric-label">Tech Stack</span>
                        </div>
                    </div>
                    
                    <div class="system-tech-stack">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">TensorFlow</span>
                        <span class="tech-tag">FastAPI</span>
                        <span class="tech-tag">Docker</span>
                    </div>
                </div>
                
                <div class="system-card-footer">
                    <a href="{% url 'projects:system_list' %}" class="system-link">
                        <i class="fas fa-external-link-alt"></i>
                        View System
                    </a>
                </div>
            </div>
            
            <div class="glass-card system-card">
                <div class="system-card-header">
                    <div class="system-badge">SYS-002</div>
                    <div class="system-status">
                        <div class="status-indicator operational"></div>
                        <span>Deployed</span>
                    </div>
                </div>
                
                <div class="system-image">
                    <div class="system-image-placeholder">
                        <i class="fas fa-database"></i>
                    </div>
                </div>
                
                <div class="system-card-content">
                    <h3 class="system-title">Data Pipeline Engine</h3>
                    <p class="system-description">Scalable data processing pipeline with automated ETL operations, real-time monitoring, and intelligent error recovery mechanisms.</p>
                    
                    <div class="system-metrics">
                        <div class="system-metric">
                            <span class="system-metric-value">95%</span>
                            <span class="system-metric-label">Complete</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">3/5</span>
                            <span class="system-metric-label">Complexity</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">5</span>
                            <span class="system-metric-label">Tech Stack</span>
                        </div>
                    </div>
                    
                    <div class="system-tech-stack">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">Apache Airflow</span>
                        <span class="tech-tag">PostgreSQL</span>
                        <span class="tech-tag">Redis</span>
                    </div>
                </div>
                
                <div class="system-card-footer">
                    <a href="{% url 'projects:system_list' %}" class="system-link">
                        <i class="fas fa-external-link-alt"></i>
                        View System
                    </a>
                </div>
            </div>
            
            <div class="glass-card system-card">
                <div class="system-card-header">
                    <div class="system-badge">SYS-003</div>
                    <div class="system-status">
                        <div class="status-indicator warning"></div>
                        <span>In Development</span>
                    </div>
                </div>
                
                <div class="system-image">
                    <div class="system-image-placeholder">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                
                <div class="system-card-content">
                    <h3 class="system-title">Analytics Dashboard</h3>
                    <p class="system-description">Real-time analytics platform with interactive visualizations, automated reporting, and predictive insights for business intelligence.</p>
                    
                    <div class="system-metrics">
                        <div class="system-metric">
                            <span class="system-metric-value">75%</span>
                            <span class="system-metric-label">Complete</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">3/5</span>
                            <span class="system-metric-label">Complexity</span>
                        </div>
                        <div class="system-metric">
                            <span class="system-metric-value">4</span>
                            <span class="system-metric-label">Tech Stack</span>
                        </div>
                    </div>
                    
                    <div class="system-tech-stack">
                        <span class="tech-tag">Django</span>
                        <span class="tech-tag">Chart.js</span>
                        <span class="tech-tag">Celery</span>
                        <span class="tech-tag">WebSocket</span>
                    </div>
                </div>
                
                <div class="system-card-footer">
                    <a href="{% url 'projects:system_list' %}" class="system-link">
                        <i class="fas fa-external-link-alt"></i>
                        View System
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-lg">
            <a href="{% url 'projects:system_list' %}" class="btn btn-primary">
                <i class="fas fa-database me-2"></i>
                Explore All Systems
            </a>
        </div>
    </div>
</section>

<!-- Recent DataLogs Section -->
<section class="recent-devlogs-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Recent DataLogs</h2>
            <p class="section-subtitle">Development insights and technical documentation entries</p>
        </div>
        
        <div class="container">
            <!-- Data Grid for Posts -->
        {% include 'components/data_grid.html' with items=latest_posts grid_type="datalogs" columns=3 allow_compact=True view_mode="grid" count_label="DataLog entries" %}
        
        </div>
        
        <div class="text-center mt-lg">
            <a href="{% url 'blog:post_list' %}" class="btn btn-outline">
                <i class="fas fa-list me-2"></i>
                View All DataLogs
            </a>
        </div>
    </div>
</section>


<!-- ========== ENHANCED RESUME DOWNLOAD SECTION ========== -->
<section class="resume-download-section" id="resume-section">
    <div class="container">
        <div class="section-header">
            <h3 class="section-title">
                <!-- <i class="fas fa-file-download"></i> -->
                Resume & Portfolio Access
            </h3>
            <p class="container-subtitle">
                Download my professional resume in multiple formats or explore my work online
            </p>
        </div>
        
        <div class="resume-download-grid">
            <!-- PDF Download - Primary Option -->
            <div class="download-option-card glass-card primary">
                <div class="download-icon">
                    <i class="fas fa-file-pdf"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">PDF Resume</h4>
                    <p class="download-description">
                        Professional formatted resume with complete technical skills and project showcase
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">ATS-Friendly</span>
                        <span class="feature-tag">Print-Ready</span>
                        <span class="feature-tag">Latest Skills</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_download_format' 'pdf' %}" 
                       class="btn btn-primary download-btn"
                       onclick="trackDownload('pdf')">
                        <i class="fas fa-download"></i>
                        Download PDF
                    </a>
                    <div class="download-size">
                        <i class="fas fa-info-circle"></i>
                        ~ 350KB
                    </div>
                </div>
            </div>
            
            <!-- Online Resume Preview -->
            <div class="download-option-card glass-card">
                <div class="download-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">Online Preview</h4>
                    <p class="download-description">
                        View my complete resume online with interactive elements and live project links
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">Interactive</span>
                        <span class="feature-tag">Live Links</span>
                        <span class="feature-tag">Mobile-Friendly</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_preview' %}" 
                       class="btn btn-outline-primary download-btn"
                       target="_blank">
                        <i class="fas fa-external-link-alt"></i>
                        View Online
                    </a>
                    <div class="download-size">
                        <i class="fas fa-globe"></i>
                        Web View
                    </div>
                </div>
            </div>
            
            <!-- JSON Format -->
            <div class="download-option-card glass-card">
                <div class="download-icon">
                    <i class="fas fa-code"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">JSON Resume</h4>
                    <p class="download-description">
                        Machine-readable format following JSON Resume schema for automated processing
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">Structured Data</span>
                        <span class="feature-tag">API-Ready</span>
                        <span class="feature-tag">JSON Schema</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_download_format' 'json' %}" 
                       class="btn btn-outline-secondary download-btn"
                       onclick="trackDownload('json')">
                        <i class="fas fa-download"></i>
                        Download JSON
                    </a>
                    <div class="download-size">
                        <i class="fas fa-info-circle"></i>
                        ~ 25KB
                    </div>
                </div>
            </div>
            
            <!-- Plain Text Format -->
            <div class="download-option-card glass-card">
                <div class="download-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">Text Format</h4>
                    <p class="download-description">
                        Simple text format for quick copying, email inclusion, or legacy systems
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">Universal</span>
                        <span class="feature-tag">Copy-Paste</span>
                        <span class="feature-tag">Lightweight</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_download_format' 'txt' %}" 
                       class="btn btn-outline-secondary download-btn"
                       onclick="trackDownload('txt')">
                        <i class="fas fa-download"></i>
                        Download TXT
                    </a>
                    <div class="download-size">
                        <i class="fas fa-info-circle"></i>
                        ~ 8KB
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Action Buttons -->
        <div class="resume-quick-actions">
            <div class="quick-action-item">
                <i class="fas fa-user-astronaut"></i>
                <span>Want a deep dive into my learning journey?<a href="{% url 'core:about' %}" class="quick-link"> Explore my Developer Profile</a></span>
            </div>
            <div class="quick-action-item">
                <i class="fa-brands fa-linkedin"></i>
                <span>Connect with me on <a href="https://linkedin.com/in/sonnigunnels" class="quick-link" target="_blank">LinkedIn</a></span>
            </div>
            <div class="quick-action-item">
                <i class="fa-brands fa-github"></i>
                <span>View my code on <a href="https://github.com/sonnibytes" class="quick-link" target="_blank">GitHub</a></span>
            </div>
        </div>
        
        <!-- Resume Stats & Info -->
        <div class="resume-info-footer">
            <!-- <div class="resume-stats">
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-chart-line"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.learning_years }} of Progression</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-cogs"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.technologies_mastered }}+ Technologies</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-project-diagram"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.total_systems }} Projects Built</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-link"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.skill_technology_connections }} Skill-Tech Connections</span>
                </div>
            </div> -->
            
            <div class="resume-notes">
                <p><i class="fas fa-info-circle"></i> All formats include the latest skills and project information from this portfolio.</p>
                <p><i class="fas fa-sync-alt"></i> Resume automatically reflects updates to my skills and project portfolio.</p>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section">
    <div class="container">
        <div class="glass-card cta-container">
            <h2 class="cta-title">Initialize Connection Protocol</h2>
            <p class="cta-subtitle">
                Ready to collaborate on innovative Python solutions or discuss how my skills can contribute to your team's success? Let's connect and build something remarkable together.
            </p>
            
            <div class="cta-buttons">
                <a href="{% url 'core:contact' %}" class="btn btn-primary">
                    <i class="fas fa-satellite-dish me-2"></i>
                    Open Communication Channel
                </a>
                <a href="{% url 'core:about' %}" class="btn btn-outline">
                    <i class="fas fa-user-astronaut me-2"></i>
                    View Developer Profile
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize loading sequence
    if (typeof initLoadingSequence === 'function') {
        initLoadingSequence();
    }
    
    // Initialize HUD data counters
    if (typeof initHUDDataCounters === 'function') {
        initHUDDataCounters();
    }
    
    // Add interactive effects to system cards
    const systemCards = document.querySelectorAll('.system-card');
    systemCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
    
    // Add staggered animation to cards
    const allCards = document.querySelectorAll('.quick-stat-card, .system-card, .datalog-card');
    allCards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            card.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100 + 1000); // Start after loading sequence
    });
});

function trackDownload(format) {
    // Track download analytics
    if (typeof gtag !== 'undefined') {
        gtag('event', 'download', {
            'event_category': 'resume',
            'event_label': format,
            'value': 1
        });
    }
    
    // Optional: Send to analytics endpoint
    fetch('/api/track-download/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        },
        body: JSON.stringify({
            'format': format,
            'timestamp': new Date().toISOString()
        })
    }).catch(err => console.log('Analytics tracking failed:', err));
}

// Add visual feedback for downloads
document.querySelectorAll('.download-btn').forEach(btn => {
    btn.addEventListener('click', function(e) {
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
        this.disabled = true;
        
        // Reset after 3 seconds
        setTimeout(() => {
            this.innerHTML = originalText;
            this.disabled = false;
        }, 3000);
    });
});
</script>
{% endblock %}