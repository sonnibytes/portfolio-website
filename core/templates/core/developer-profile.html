<!----
 * AURA Portfolio - Developer Profile/Resume Template
 * Advanced User Repository & Archive
 * Version: 3.0.1 - Optimized for Component Architecture
---->
<!-- core/templates/core/developer-profile.html - Enhanced with Professional Timeline Integration -->
{% extends "core/core_base.html" %}
{% load static %}
{% load aura_filters %}
{% load aura_components %}

{% block title %}Developer Profile | AURA{% endblock %}
{% block meta_description %}Comprehensive developer profile showcasing Python expertise, learning progression, and technical capabilities through {{ learning_progression.total_skills }} skills and {{ portfolio_metrics.total_systems }} projects.{% endblock %}

{% block core_css %}
<link rel="stylesheet" href="{% static 'core/css/about.css' %}">
<link rel="stylesheet" href="{% static 'core/css/home.css' %}">
<link rel="stylesheet" href="{% static 'core/css/backup/archived_home.css' %}">
<link rel="stylesheet" href="{% static 'css/components/aura-shared.css' %}">
<link rel="stylesheet" href="{% static 'core/css/resume-download.css' %}">
<link rel="stylesheet" href="{% static 'core/css/dev-profile.css' %}">
{% endblock %}

{% block core_content %}

<!-- ========== PROFILE HEADER SECTION ========== -->
<section class="profile-header-section">
    <div class="unified-dashboard-container teal">
        <div class="unified-container-header">
            <h1 class="unified-container-title">
                <i class="fas fa-user-cog"></i>
                PYTHON DEVELOPER PROFILE
            </h1>
            <p class="container-subtitle">
                Self-Taught • {{ portfolio_metrics.learning_years }} Learning Journey • EHS → Tech Transition
            </p>
        </div>
        
        <div class="profile-header-content">
            <div class="row align-items-center">
                <div class="col-lg-3 col-md-4">
                    <div class="profile-image-container">
                        <div class="profile-image-frame">
                            <img src="{% static 'images/profile/profile-img.png' %}" alt="Developer Profile" class="profile-image">
                            <div class="image-scan-overlay scanning-horizontal"></div>
                        </div>
                        <div class="profile-status-indicator">
                            <div class="status-indicator operational pulse-effect"></div>
                            <span class="status-text">AVAILABLE FOR HIRE</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8">
                    <div class="profile-header-details">
                        <h2 class="profile-name display-title">
                            Learning-Driven Python Developer
                        </h2>
                        <div class="profile-title system-text">
                            Career Transition: EHS Compliance → Software Development
                        </div>
                        
                        <!-- Dynamic Learning Metrics -->
                        <div class="profile-meta-grid">
                            <div class="profile-meta-item">
                                <span class="meta-label">Learning Duration</span>
                                <span class="meta-value">{{ portfolio_metrics.learning_years }}</span>
                            </div>
                            <div class="profile-meta-item">
                                <span class="meta-label">Technologies</span>
                                <span class="meta-value">{{ portfolio_metrics.technologies_mastered }}+ Mastered</span>
                            </div>
                            <div class="profile-meta-item">
                                <span class="meta-label">Projects Built</span>
                                <span class="meta-value">{{ portfolio_metrics.total_systems }} Systems</span>
                            </div>
                            <div class="profile-meta-item">
                                <span class="meta-label">Learning Documentation</span>
                                <span class="meta-value">{{ portfolio_metrics.total_logs_count }} DataLog Entries</span>
                            </div>
                        </div>
                        
                        <div class="profile-summary">
                            <p>Self-motivated developer with {{ portfolio_metrics.learning_years }} of intensive learning, bringing analytical skills from EHS compliance background. Demonstrated technical growth through progressive projects and comprehensive skill development. Ready to contribute technical abilities while continuing to learn in a professional environment.</p>
                        </div>
                        
                        <div class="profile-actions">
                            <a href="{% url 'core:about' %}#resume-section" class="btn btn-primary">
                                <i class="fas fa-download me-2"></i>Download Resume
                            </a>
                            <a href="{% url 'core:contact' %}" class="btn btn-outline-secondary">
                                <i class="fas fa-envelope me-2"></i>Contact Me
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ========== CAREER ROADMAP & OBJECTIVES ========== -->
<section class="career-roadmap-section">
    <div class="unified-dashboard-container navy">
        <div class="unified-container-header">
            <h2 class="unified-container-title">
                <i class="fas fa-route"></i>
                Career Roadmap & Objectives
            </h2>
            <p class="container-subtitle">
                Strategic goals and next steps in my software development journey
            </p>
        </div>
        
        <div class="roadmap-container">
            <div class="roadmap-path">
                <svg class="roadmap-line" viewBox="0 0 800 150" preserveAspectRatio="none">
                    <path d="M50,75 Q200,25 350,75 T750,75" stroke="url(#roadmapGradient)" stroke-width="3" fill="none"/>
                    <defs>
                        <linearGradient id="roadmapGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:var(--color-teal);stop-opacity:1" />
                            <stop offset="50%" style="stop-color:var(--color-coral);stop-opacity:1" />
                            <stop offset="100%" style="stop-color:var(--color-lavender);stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            
            <div class="roadmap-steps">
                <div class="roadmap-step active" data-step="1">
                    <div class="step-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <div class="step-content">
                        <h4 class="step-title">Immediate Goal</h4>
                        <p class="step-description">Secure entry-level Python developer role where I can contribute technical skills while continuing to learn from experienced team members.</p>
                        <div class="step-status">Current Focus</div>
                    </div>
                </div>
                
                <div class="roadmap-step" data-step="2">
                    <div class="step-icon">
                        <i class="fas fa-code-branch"></i>
                    </div>
                    <div class="step-content">
                        <h4 class="step-title">Learning Expansion</h4>
                        <p class="step-description">Expanding knowledge in testing frameworks, API development, and modern JavaScript frameworks while deepening Python expertise.</p>
                        <div class="step-status">In Progress</div>
                    </div>
                </div>
                
                <div class="roadmap-step" data-step="3">
                    <div class="step-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <div class="step-content">
                        <h4 class="step-title">Value Proposition</h4>
                        <p class="step-description">Bringing analytical thinking from EHS background, proven self-learning ability, and genuine enthusiasm for software development.</p>
                        <div class="step-status">Ready</div>
                    </div>
                </div>
                
                <div class="roadmap-step" data-step="4">
                    <div class="step-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <div class="step-content">
                        <h4 class="step-title">Long-term Vision</h4>
                        <p class="step-description">Become a well-rounded full-stack developer, contributing to meaningful projects that solve real-world problems through technology.</p>
                        <div class="step-status">Future Goal</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ========== CORE EXPERTISE AREAS ========== -->
<section class="expertise-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Core Expertise</h2>
            <p class="section-subtitle">Technical capabilities developed through hands-on learning and progressive project development</p>
        </div>
        {% comment %} <div class="unified-container-header">
            <h2 class="unified-container-title">
                <i class="fas fa-brain"></i>
                Core Development Expertise
            </h2>
            <p class="container-subtitle">
                Technical capabilities developed through hands-on learning and progressive project development
            </p>
        </div> {% endcomment %}
        
        <div class="expertise-grid">
            <div class="expertise-card glass-card">
                <div class="expertise-icon">
                    <i class="fab fa-python"></i>
                </div>
                <h3 class="expertise-title">Python Development</h3>
                <p class="expertise-description">
                    Full-stack web applications using Flask & Django frameworks, API development, data processing, and automation scripting with clean, maintainable code practices.
                </p>
                <div class="expertise-tech-tags">
                    <span class="tech-tag">Flask</span>
                    <span class="tech-tag">Django</span>
                    <span class="tech-tag">Python</span>
                    <span class="tech-tag">REST APIs</span>
                    <span class="tech-tag">PostgreSQL</span>
                </div>
            </div>
            
            <div class="expertise-card glass-card">
                <div class="expertise-icon">
                    <i class="fas fa-database"></i>
                </div>
                <h3 class="expertise-title">Data Engineering</h3>
                <p class="expertise-description">
                    Database design, data processing workflows, and analytical system development leveraging analytical background from EHS compliance work.
                </p>
                <div class="expertise-tech-tags">
                    <span class="tech-tag">SQLAlchemy</span>
                    <span class="tech-tag">Pandas</span>
                    <span class="tech-tag">SQL</span>
                    <span class="tech-tag">Data Visualization</span>
                </div>
            </div>
            
            <div class="expertise-card glass-card">
                <div class="expertise-icon">
                    <i class="fas fa-server"></i>
                </div>
                <h3 class="expertise-title">System Development</h3>
                <p class="expertise-description">
                    End-to-end system development with Django & Flask, creating scalable web applications to meet various personal needs and solve everyday obstacles.
                </p>
                <div class="expertise-tech-tags">
                    <span class="tech-tag">Django</span>
                    <span class="tech-tag">Flask</span>
                    <span class="tech-tag">HTML/CSS</span>
                    <span class="tech-tag">Bootstrap</span>
                    <span class="tech-tag">Git/GitHub</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ========== ENHANCED TECHNICAL SKILLS SECTION ========== -->

<section class="skills-dashboard-section">
    <div class="container">
    <div class="section-header">
        <h2 class="section-title">Technical Skills & Technology Proficiencies</h2>
        <p class="section-subtitle">Comprehensive skill assessment with technology relationship mapping</p>
    </div>
    <!-- Quick Stats Section -->
<!-- <section class="quick-stats-section"> -->
    <div class="container">
        <div class="quick-stats-grid">
            <div class="glass-card quick-stat-card teal">
                <div class="quick-stat-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ active_systems|default:'8' }}">{{ learning_progression.total_skills }}</span>
                <div class="quick-stat-label">Skills Mastered</div>
                <div class="quick-stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> +2 this month
                </div>
            </div>

            <div class="glass-card quick-stat-card coral">
                <div class="quick-stat-icon">
                    <i class="fas fa-route"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ in_development|default:'5' }}">{{ learning_progression.skill_tech_relationships }}</span>
                <div class="quick-stat-label">Connections</div>
                <div class="quick-stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> +1 this week
                </div>
            </div>
            
            <div class="glass-card quick-stat-card lavender">
                <div class="quick-stat-icon">
                    <i class="fas fa-cogs"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ technologies_count|default:'15' }}">{{ technologies_count|default:'15' }}</span>
                <div class="quick-stat-label">Technologies</div>
                <div class="quick-stat-trend trend-neutral">
                    <i class="fas fa-minus"></i> Stable
                </div>
            </div>
            
            <div class="glass-card quick-stat-card mint">
                <div class="quick-stat-icon">
                    <i class="fas fa-link"></i>
                </div>
                <span class="quick-stat-value hud-data-counter" data-target="{{ recent_logs|default:'12' }}">{{ learning_progression.strong_relationships }}</span>
                <div class="quick-stat-label">Primary Links</div>
                <div class="quick-stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> +3 this week
                </div>
            </div>
        </div>
    </div>
<!-- </section> -->
    
    <!-- <div class="unified-dashboard-container lavender"> -->
        <div class="unified-container-header">
            <h4 class="unified-container-title">
                <i class="fas fa-network-wired"></i>
                Skills ↔ Technology Relationships
            </h4>
            <!-- Glass Card Stats Bar -->
            <!-- <div class="container-stats-bar">
                <div class="skill-stat-item">
                    <span class="skill-stat-value">{{ learning_progression.total_skills }}</span>
                    <span class="skill-stat-label">Skills Mastered</span>
                </div>
                <div class="skill-stat-item">
                    <span class="skill-stat-value">{{ learning_progression.total_technologies }}</span>
                    <span class="skill-stat-label">Technologies</span>
                </div>
                <div class="skill-stat-item">
                    <span class="skill-stat-value">{{ learning_progression.skill_tech_relationships }}</span>
                    <span class="skill-stat-label">Connections</span>
                </div>
                <div class="skill-stat-item">
                    <span class="skill-stat-value">{{ learning_progression.strong_relationships }}</span>
                    <span class="skill-stat-label">Primary Links</span>
                </div>
            </div> -->
        </div>
        <!-- Skill-Tech by Category  -->
    {% if skill_categories %}
        <div class="skills-categories-grid">
            {% for category, data in skill_categories.items %}
            <div class="skill-category-container">
                <div class="category-header-enhanced">
                    <div class="category-title-section">
                        <h4 class="category-title">{{ data.label }}</h4>
                        <div class="category-metrics">
                            <span class="stat skills">{{ data.skill_count }} skill{{ data.skill_count|pluralize }}</span>
                            <span class="stat technologies">{{ data.total_technologies }} tech{{ data.total_technologies|pluralize:"nologies,nologies" }}</span>
                            {% if data.mastery_count %}
                                <span class="stat mastered">{{ data.mastery_count }} mastered</span>
                            {% endif %}
                            {% if data.learning_count %}
                                <span class="stat learning">{{ data.learning_count }} learning</span>
                            {% endif %}
                        </div>
                    </div>
                    <div class="category-progress-indicator">
                        {% circular_progress data.avg_proficiency 5 %}
                        <!-- <div class="progress-circle" data-progress="{{ data.avg_proficiency|floatformat:0|mul:20 }}">
                            <div class="progress-text">{{ data.avg_proficiency|floatformat:1 }}/5</div>
                        </div> -->
                    </div>
                </div>
                
                <div class="skills-with-tech-grid">
                    {% for skill_data in data.skills %}
                    <div class="skill-tech-card glass-card">
                        <div class="skill-header">
                            <div class="skill-main-info">
                                <h5 class="skill-name">
                                    <i class="{{ skill_data.skill.icon|safe_icon }}"></i>
                                    {{ skill_data.skill.name }}
                                </h5>
                                <div class="skill-proficiency">
                                    <div class="proficiency-bar">
                                        <div class="proficiency-fill" 
                                             style="width: {{ skill_data.skill.proficiency|mul:20 }}%; 
                                                    background-color: {{ skill_data.skill.color|default:'#2196F3' }};"></div>
                                    </div>
                                    <span class="proficiency-text">{{ skill_data.skill.proficiency }}/5</span>
                                </div>
                            </div>
                            
                            {% if skill_data.skill.is_currently_learning %}
                                <div class="learning-badge pulse-effect">
                                    <i class="fas fa-book-open"></i>
                                    Learning
                                </div>
                            {% endif %}
                        </div>
                        
                         <div class="relationship-label" style="margin-bottom: 0.25rem;">
                            <i class="fas fa-link"></i>
                            Connected Technologies
                        </div>
                        <div class="technology-relationships">
                            
                            {% if skill_data.primary_technologies or skill_data.supporting_technologies %}
                            {% if skill_data.primary_technologies %}
                            <div class="tech-relationship-group primary">
                                <div class="relationship-label">
                                    <i class="fas fa-star"></i>
                                    Primary Technologies
                                </div>
                                <div class="tech-tags-container">
                                    {% for relation in skill_data.primary_technologies %}
                                    <div class="tech-relationship-tag primary" 
                                         data-strength="{{ relation.strength }}"
                                         data-type="{{ relation.get_relationship_type_display }}"
                                         style="border-color: {{ relation.get_strength_color }};">
                                        <span class="tech-name">{{ relation.technology.name }}</span>
                                        <div class="relationship-indicators">
                                            <div class="strength-indicator strength-{{ relation.strength }}"
                                                 style="background-color: {{ relation.get_strength_color }};"></div>
                                            <div class="relationship-type-indicator">
                                                {% if relation.relationship_type == 'implementation' %}
                                                    <i class="fas fa-cogs" title="Implementation Tool"></i>
                                                {% elif relation.relationship_type == 'data_source' %}
                                                    <i class="fas fa-database" title="Data Source"></i>
                                                {% elif relation.relationship_type == 'visualization' %}
                                                    <i class="fas fa-chart-bar" title="Visualization"></i>
                                                {% elif relation.relationship_type == 'deployment' %}
                                                    <i class="fas fa-cloud" title="Deployment"></i>
                                                {% else %}
                                                    <i class="fas fa-link" title="Supporting"></i>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}
                            
                            {% if skill_data.supporting_technologies %}
                            <div class="tech-relationship-group supporting">
                                <div class="relationship-label">
                                    <i class="fas fa-plus-circle"></i>
                                    Supporting Technologies
                                </div>
                                <div class="tech-tags-container">
                                    {% for relation in skill_data.supporting_technologies %}
                                    <div class="tech-relationship-tag supporting" 
                                         data-strength="{{ relation.strength }}"
                                         style="border-color: {{ relation.get_strength_color }};">
                                        <span class="tech-name">{{ relation.technology.name }}</span>
                                        <div class="strength-indicator strength-{{ relation.strength }}"
                                             style="background-color: {{ relation.get_strength_color }};"></div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            
                            {% endif %}
                            {% else %}
                            <!-- Empty State -->
                            <div class="empty-state">
                                <i class="fas fa-blueprint"></i>
                                No Connected Technologies
                            </div>
                              {% endif %}
                        </div>
                      
                        
                        <div class="skill-application-metrics">
                            {% if skill_data.project_applications %}
                            <div class="application-count">
                                <i class="fas fa-project-diagram"></i>
                                Applied in {{ skill_data.project_applications }} project{{ skill_data.project_applications|pluralize }}
                            </div>
                            {% endif %}
                            
                            {% if skill_data.last_used %}
                            <div class="last-used">
                                <i class="fas fa-clock"></i>
                                Last applied: {{ skill_data.last_used|date:"M Y" }}
                            </div>
                            {% endif %}
                            
                            <div class="mastery-progress">
                                <div class="mastery-label">Learning Progress</div>
                                <div class="mastery-bar">
                                    <div class="mastery-fill" style="width: {{ skill_data.mastery_score }}%;"></div>
                                </div>
                                <div class="mastery-text">{{ skill_data.mastery_score }}%</div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <!-- </div> -->
</section>

<!-- ========== TECHNOLOGY RELATIONSHIP OVERVIEW ========== -->
{% if top_technologies %}
<section class="tech-relationships-overview">
    <div class="unified-dashboard-container navy">
        <div class="unified-container-header">
            <h3 class="unified-container-title">
                <i class="fas fa-sitemap"></i>
                Most Connected Technologies
            </h3>
            <p class="container-subtitle">
                Technologies used across multiple skill areas, showing versatility and integration capability
            </p>
        </div>
        
        <div class="connected-technologies-grid grid-4-col">
            {% for tech_data in top_technologies %}
            <div class="connected-tech-card glass-card">
                <div class="tech-card-header">
                    <div class="tech-icon">
                        <i class="{{ tech_data.technology.icon|default:'fas fa-microchip' }}"></i>
                    </div>
                    <h4 class="tech-name">{{ tech_data.technology.name }}</h4>
                </div>
                
                <div class="connection-metrics">
                    <div class="connection-stat primary">
                        <span class="stat-number">{{ tech_data.primary_connections }}</span>
                        <span class="stat-label">Primary Skills</span>
                    </div>
                    <div class="connection-stat supporting">
                        <span class="stat-number">{{ tech_data.supporting_connections }}</span>
                        <span class="stat-label">Supporting Skills</span>
                    </div>
                </div>
                
                <div class="connection-visualization">
                    <div class="connection-bar">
                        <div class="primary-portion" 
                             style="width: {% widthratio tech_data.primary_connections tech_data.total_connections 100 %}%;"></div>
                        <div class="supporting-portion" 
                             style="width: {% widthratio tech_data.supporting_connections tech_data.total_connections 100 %}%;"></div>
                    </div>
                    <div class="total-connections">
                        {{ tech_data.total_connections }} total skill connection{{ tech_data.total_connections|pluralize }}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- ========== RELATIONSHIP INSIGHTS SUMMARY ========== -->
{% if relationship_insights %}
<div class="skills-insights-summary">
    <div class="insights-cards grid-4-col">
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-link"></i>
            </div>
            <div class="insight-content">
                <div class="insight-number">{{ relationship_insights.total_relationships }}</div>
                <div class="insight-label">Skill-Tech Links</div>
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-star"></i>
            </div>
            <div class="insight-content">
                <div class="insight-number">{{ relationship_insights.strong_relationships }}</div>
                <div class="insight-label">Primary Relations</div>
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-chart-line"></i>
            </div>
            <div class="insight-content">
                <div class="insight-number">{{ relationship_insights.avg_strength|floatformat:1 }}</div>
                <div class="insight-label">Avg Strength</div>
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-network-wired"></i>
            </div>
            <div class="insight-content">
                <div class="insight-number">{{ relationship_insights.relationship_types|length }}</div>
                <div class="insight-label">Relation Types</div>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endif %}

<!-- ========== ENHANCED PROFESSIONAL TIMELINE ========== -->
{% if experiences %}
<section class="experience-timeline-section">
    <div class="section-header">
        <h2 class="section-title">Professional Timeline & Career Transition</h2>
        <p class="section-subtitle">Career progression showcasing transferable skills from EHS compliance to software development</p>
    </div>
    <div class="unified-dashboard-container mint">
        {% comment %} <div class="unified-container-header">
            <h2 class="unified-container-title">
                <i class="fas fa-briefcase"></i>
                Professional Timeline & Career Transition
            </h2>
            <p class="container-subtitle">
                Career progression showcasing transferable skills from EHS compliance to software development
            </p>
        </div> {% endcomment %}
        
        <div class="enhanced-timeline-container">
            {% for experience in experiences %}
            <div class="timeline-item {% cycle 'left' 'right' %}">
                {% comment %} <div class="timeline-connector">
                    <div class="timeline-dot">
                        {% if experience.is_current %}
                        <i class="fas fa-code"></i>
                        {% else %}
                        <i class="fas fa-building"></i>
                        {% endif %}
                    </div>
                    <div class="timeline-line"></div>
                </div>
                 {% endcomment %}
                <div class="timeline-content glass-card">
                    <div class="timeline-header">
                        {% comment %} <div class="timeline-meta">
                            <div class="timeline-date">
                                <span class="start-date">{{ experience.start_date|date:"M Y" }}</span>
                                <span class="date-separator">—</span>
                                <span class="end-date">
                                    {% if experience.is_current %}Present{% else %}{{ experience.end_date|date:"M Y" }}{% endif %}
                                </span>
                                {% if experience.is_current %}
                                <span class="current-badge">Current Focus</span>
                                {% endif %}
                            </div>
                            <div class="experience-type">
                                {% if experience.is_current %}
                                <span class="type-badge learning">Self-Directed Learning</span>
                                {% else %}
                                <span class="type-badge professional">Professional Experience</span>
                                {% endif %}
                            </div>
                        </div> {% endcomment %}
                        
                        <h3 class="timeline-title">{{ experience.position }}</h3>
                        <div class="timeline-company">{{ experience.company }}</div>
                        <div class="timeline-date">
                            {{ experience.start_date|date:"M Y" }} — 
                            {% if experience.is_current %}Present{% else %}{{ experience.end_date|date:"M Y" }}{% endif %}
                        </div>
                    </div>
                    
                    <div class="timeline-description">
                        {{ experience.description|linebreaks }}
                    </div>
                    
                    {% if experience.key_achievements %}
                    <div class="timeline-achievements">
                        <h5>Key Achievements:</h5>
                        <ul>
                            {% for achievement in experience.get_achievements_list %}
                            <li>{{ achievement }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                    
                    {% if experience.technologies %}
                    <div class="timeline-tech">
                        <div class="tech-label">
                            {% if experience.is_current %}
                            Technologies Learning:
                            {% else %}
                            Transferable Skills:
                            {% endif %}
                        </div>
                        <div class="tech-tags">
                            {% for tech in experience.get_technologies_list %}
                            <span class="tech-tag">{{ tech }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <!-- Fallback timeline entries based on learning journey -->
            <div class="timeline-item left">
                <div class="timeline-connector">
                    <div class="timeline-dot">
                        <i class="fas fa-code"></i>
                    </div>
                    <div class="timeline-line"></div>
                </div>
                <div class="timeline-content glass-card">
                    <div class="timeline-header">
                        <div class="timeline-meta">
                            <div class="timeline-date">
                                <span class="start-date">2022</span>
                                <span class="date-separator">—</span>
                                <span class="end-date">Present</span>
                                <span class="current-badge">Current Focus</span>
                            </div>
                            <div class="experience-type">
                                <span class="type-badge learning">Self-Directed Learning</span>
                            </div>
                        </div>
                        <h3 class="timeline-title">Python Developer</h3>
                        <div class="timeline-company">Personal Learning Journey</div>
                    </div>
                    <div class="timeline-description">
                        <p>Intensive self-directed learning journey focusing on Python development, web frameworks, and data engineering. Built progressively complex projects to demonstrate technical growth and problem-solving abilities.</p>
                    </div>
                    <div class="timeline-tech">
                        <div class="tech-label">Technologies Mastered:</div>
                        <div class="tech-tags">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Django</span>
                            <span class="tech-tag">PostgreSQL</span>
                            <span class="tech-tag">HTML/CSS</span>
                            <span class="tech-tag">JavaScript</span>
                            <span class="tech-tag">Git/GitHub</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="timeline-item right">
                <div class="timeline-connector">
                    <div class="timeline-dot">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="timeline-line"></div>
                </div>
                <div class="timeline-content glass-card">
                    <div class="timeline-header">
                        <div class="timeline-meta">
                            <div class="timeline-date">
                                <span class="start-date">2018</span>
                                <span class="date-separator">—</span>
                                <span class="end-date">2022</span>
                            </div>
                            <div class="experience-type">
                                <span class="type-badge professional">Professional Experience</span>
                            </div>
                        </div>
                        <h3 class="timeline-title">EHS Compliance Specialist</h3>
                        <div class="timeline-company">Previous Career</div>
                    </div>
                    <div class="timeline-description">
                        <p>Developed analytical thinking, process documentation, and problem-solving skills through environmental health and safety compliance work. Recognized the power of automation and data analysis, leading to transition into software development.</p>
                    </div>
                    <div class="timeline-tech">
                        <div class="tech-label">Transferable Skills:</div>
                        <div class="tech-tags">
                            <span class="tech-tag">Process Analysis</span>
                            <span class="tech-tag">Documentation</span>
                            <span class="tech-tag">Problem Solving</span>
                            <span class="tech-tag">Data Analysis</span>
                            <span class="tech-tag">Attention to Detail</span>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- ========== EDUCATION & LEARNING JOURNEY ========== -->
{% if education_enhanced %}
<section class="education-section">
    <div class="section-header">
        <h2 class="section-title">Learning Journey & Education</h2>
        <p class="section-subtitle">Formal and self-directed learning experiences supporting technical development</p>
    </div>
    <div class="unified-dashboard-container yellow">
        {% comment %} <div class="unified-container-header">
            <h2 class="unified-container-title">
                <i class="fas fa-graduation-cap"></i>
                Learning Journey & Education
            </h2>
            <p class="container-subtitle">
                Formal and self-directed learning experiences supporting technical development
            </p>
        </div> {% endcomment %}
        
        <div class="education-grid">
            {% for education in education_enhanced %}
            {% with summary=education.summary education=education.education skills=education.skills_gained %}
            <div class="education-entry glass-card">
                <div class="education-header">
                    <h3 class="education-title">{{ education.degree }}</h3>
                    <div class="education-institution">{{ education.institution }}</div>
                    
                    <div class="education-dates">
                        {{ education.start_date|date:"Y" }}{% if education.end_date %} - {{ education.end_date|date:"Y" }}{% else %} - Present{% endif %}
                    </div>
                    {% comment %} {% if education.course_url %} {% endcomment %}
                    <a href="{{ education.course_url }}" class="course-link" target="_blank" rel="noopener">
                        View Course
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    {% comment %} {% endif %} {% endcomment %}
                </div>
                
                <div class="education-summary">
                    {% if summary.hours_completed %}
                    <span class="stat">{{ summary.hours_completed }}h</span>
                    {% endif %}
                    {% if summary.skills_gained %}
                    <span class="stat">{{ summary.skills_gained }} skills</span>
                    {% endif %}
                    {% if education.certificate_url %}
                    <a href="{{ education.certificate_url }}" class="cert-link" target="_blank" rel="noopener">
                        View Certificate
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    {% endif %}
                </div>
                
                {% if education.description %}
                <div class="education-description">
                    {{ education.description }}
                </div>
                {% endif %}
                
                {% if skills %}
                <div class="education-skills">
                    <h5>Skills Developed:</h5>
                    <div class="skills-tags">
                        {% for skill in skills %}
                        <span class="skill-tag" style="border-color: {{ skill.color }};">
                            {{ skill.name }}
                        </span>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
            {% endwith %}
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- ========== ENHANCED RESUME DOWNLOAD SECTION ========== -->
<section class="resume-download-section" id="resume-section">
    <div class="container">
        <div class="section-header">
            <h3 class="section-title">
                <!-- <i class="fas fa-file-download"></i> -->
                Resume & Portfolio Access
            </h3>
            <p class="container-subtitle">
                Download my professional resume in multiple formats or explore my work online
            </p>
        </div>
        
        <div class="resume-download-grid">
            <!-- PDF Download - Primary Option -->
            <div class="download-option-card glass-card primary">
                <div class="download-icon">
                    <i class="fas fa-file-pdf"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">PDF Resume</h4>
                    <p class="download-description">
                        Professional formatted resume with complete technical skills and project showcase
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">ATS-Friendly</span>
                        <span class="feature-tag">Print-Ready</span>
                        <span class="feature-tag">Latest Skills</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_download_format' 'pdf' %}" 
                       class="btn btn-primary download-btn"
                       onclick="trackDownload('pdf')">
                        <i class="fas fa-download"></i>
                        Download PDF
                    </a>
                    <div class="download-size">
                        <i class="fas fa-info-circle"></i>
                        ~ 350KB
                    </div>
                </div>
            </div>
            
            <!-- Online Resume Preview -->
            <div class="download-option-card glass-card">
                <div class="download-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">Online Preview</h4>
                    <p class="download-description">
                        View my complete resume online with interactive elements and live project links
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">Interactive</span>
                        <span class="feature-tag">Live Links</span>
                        <span class="feature-tag">Mobile-Friendly</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_preview' %}" 
                       class="btn btn-outline-primary download-btn"
                       target="_blank">
                        <i class="fas fa-external-link-alt"></i>
                        View Online
                    </a>
                    <div class="download-size">
                        <i class="fas fa-globe"></i>
                        Web View
                    </div>
                </div>
            </div>
            
            <!-- JSON Format -->
            <div class="download-option-card glass-card">
                <div class="download-icon">
                    <i class="fas fa-code"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">JSON Resume</h4>
                    <p class="download-description">
                        Machine-readable format following JSON Resume schema for automated processing
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">Structured Data</span>
                        <span class="feature-tag">API-Ready</span>
                        <span class="feature-tag">JSON Schema</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_download_format' 'json' %}" 
                       class="btn btn-outline-secondary download-btn"
                       onclick="trackDownload('json')">
                        <i class="fas fa-download"></i>
                        Download JSON
                    </a>
                    <div class="download-size">
                        <i class="fas fa-info-circle"></i>
                        ~ 25KB
                    </div>
                </div>
            </div>
            
            <!-- Plain Text Format -->
            <div class="download-option-card glass-card">
                <div class="download-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <div class="download-content">
                    <h4 class="download-title">Text Format</h4>
                    <p class="download-description">
                        Simple text format for quick copying, email inclusion, or legacy systems
                    </p>
                    <div class="download-features">
                        <span class="feature-tag">Universal</span>
                        <span class="feature-tag">Copy-Paste</span>
                        <span class="feature-tag">Lightweight</span>
                    </div>
                </div>
                <div class="download-actions">
                    <a href="{% url 'core:resume_download_format' 'txt' %}" 
                       class="btn btn-outline-secondary download-btn"
                       onclick="trackDownload('txt')">
                        <i class="fas fa-download"></i>
                        Download TXT
                    </a>
                    <div class="download-size">
                        <i class="fas fa-info-circle"></i>
                        ~ 8KB
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Action Buttons -->
        <!-- <div class="resume-quick-actions">
            <div class="quick-action-item">
                <i class="fas fa-envelope"></i>
                <span>Prefer email? <a href="{% url 'core:contact' %}" class="quick-link">Contact me directly</a></span>
            </div>
            <div class="quick-action-item">
                <i class="fas fa-linkedin"></i>
                <span>Connect with me on <a href="https://linkedin.com/in/sonnigunnels" class="quick-link" target="_blank">LinkedIn</a></span>
            </div>
            <div class="quick-action-item">
                <i class="fas fa-github"></i>
                <span>View my code on <a href="https://github.com/MLDev33" class="quick-link" target="_blank">GitHub</a></span>
            </div>
        </div> -->
        
        <!-- Resume Stats & Info -->
        <div class="resume-info-footer">
            <div class="resume-stats">
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-chart-line"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.learning_years }} of Progression</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-cogs"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.technologies_mastered }}+ Technologies</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-project-diagram"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.total_systems }} Projects Built</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon"><i class="fas fa-link"></i></span>
                    <span class="stat-text">{{ portfolio_metrics.skill_technology_connections }} Skill-Tech Connections</span>
                </div>
            </div>
            
            <div class="resume-notes">
                <p><i class="fas fa-info-circle"></i> All formats include the latest skills and project information from this portfolio.</p>
                <p><i class="fas fa-sync-alt"></i> Resume automatically reflects updates to my skills and project portfolio.</p>
            </div>
        </div>
    </div>
</section>

<!-- ========== ENHANCED CONTACT CTA ========== -->
<section class="enhanced-cta-section">
    <div class="section-header">
        <h2 class="section-title">Establish Connection</h2>
        {% comment %} <p class="section-subtitle">Initialize contact to discuss more</p> {% endcomment %}
    </div>
    <div class="unified-dashboard-container teal">
        <div class="cta-hero-content">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="cta-message">
                        <h2 class="cta-title">
                            <i class="fas fa-terminal"></i>
                            Ready to Discuss Opportunities
                        </h2>
                        <p class="cta-subtitle">
                            Let's talk about how my learning journey and technical skills can contribute to your team's success.
                        </p>
                        
                        <div class="cta-highlights">
                            <div class="highlight-item">
                                <i class="fas fa-check-circle"></i>
                                <span>{{ portfolio_metrics.learning_years }} Dedicated Learning</span>
                            </div>
                            <div class="highlight-item">
                                <i class="fas fa-check-circle"></i>
                                <span>{{ learning_progression.total_skills }}+ Technologies Mastered</span>
                            </div>
                            <div class="highlight-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Proven Self-Learning Ability</span>
                            </div>
                            <div class="highlight-item">
                                <i class="fas fa-check-circle"></i>
                                <span>EHS Analytical Background</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <div class="cta-terminal">
                        <div class="cta-terminal-header">
                            <div class="cta-terminal-controls">
                                <span class="control close"></span>
                                <span class="control minimize"></span>
                                <span class="control maximize"></span>
                            </div>
                            <div class="cta-terminal-title">contact-developer.sh</div>
                        </div>
                        <div class="cta-terminal-body">
                            <div class="cta-terminal-line">
                                <span class="prompt">$</span>
                                <span class="command">./initiate-contact</span>
                            </div>
                            <div class="cta-terminal-line">
                                <span class="output">Scanning for opportunities...</span>
                            </div>
                            <div class="cta-terminal-line">
                                <span class="output success">Ready for collaboration ✓</span>
                            </div>
                            <div class="cta-terminal-line">
                                <span class="prompt">$</span>
                                <span class="cursor-blink">_</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cta-actions-enhanced">
                <a href="{% url 'core:contact' %}" class="cta-btn mint">
                    <i class="fas fa-envelope"></i>
                    <span>Start Conversation</span>
                    <div class="btn-glow"></div>
                </a>
                <a href="{% url 'core:resume_download' %}" class="cta-btn secondary">
                    <i class="fas fa-download"></i>
                    <span>Download Resume</span>
                    <div class="btn-glow"></div>
                </a>
                <a href="{% url 'projects:system_list' %}" class="cta-btn tertiary">
                    <i class="fas fa-code"></i>
                    <span>Explore Projects</span>
                    <div class="btn-glow"></div>
                </a>
                <a href="https://github.com/sonnibytes" target="_blank" class="cta-btn gunmetal">
                    <i class="fab fa-github"></i>
                    <span>Code Repository</span>
                    <div class="btn-glow"></div>
                </a>
                <a href="https://linkedin.com/in/sonni-gunnels" target="_blank" class="cta-btn primary">
                    <i class="fab fa-linkedin"></i>
                    <span>Connect</span>
                    <div class="btn-glow"></div>
                </a>
            </div>
        </div>
    </div>
</section>

{% endblock core_content %}

{% block core_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animate skill progress bars
    const skillBars = document.querySelectorAll('.skill-progress .progress-bar');
    
    const observerOptions = {
        threshold: 0.5,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const progressBar = entry.target;
                const width = progressBar.style.width;
                progressBar.style.width = '0%';
                
                setTimeout(() => {
                    progressBar.style.transition = 'width 1.5s ease-out';
                    progressBar.style.width = width;
                }, 100);
            }
        });
    }, observerOptions);
    
    skillBars.forEach(bar => observer.observe(bar));
    
    // Timeline item animations
    const timelineItems = document.querySelectorAll('.timeline-item');
    
    const timelineObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, { threshold: 0.3 });
    
    timelineItems.forEach(item => {
        item.style.opacity = '0';
        item.style.transform = 'translateY(30px)';
        item.style.transition = 'all 0.6s ease-out';
        timelineObserver.observe(item);
    });
});

function trackDownload(format) {
    // Track download analytics
    if (typeof gtag !== 'undefined') {
        gtag('event', 'download', {
            'event_category': 'resume',
            'event_label': format,
            'value': 1
        });
    }
    
    // Optional: Send to analytics endpoint
    fetch('/api/track-download/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        },
        body: JSON.stringify({
            'format': format,
            'timestamp': new Date().toISOString()
        })
    }).catch(err => console.log('Analytics tracking failed:', err));
}

// Add visual feedback for downloads
document.querySelectorAll('.download-btn').forEach(btn => {
    btn.addEventListener('click', function(e) {
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
        this.disabled = true;
        
        // Reset after 3 seconds
        setTimeout(() => {
            this.innerHTML = originalText;
            this.disabled = false;
        }, 3000);
    });
});
</script>
{% endblock %}