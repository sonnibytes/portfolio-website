<!-- ========== templates/core/resume_preview.html ========== -->
<!-- Online resume preview page -->
{% extends "core/core_base.html" %}
{% load static %}

{% block title %}Resume - {{ personal_info.name }}{% endblock %}
{% block meta_description %}Professional resume for {{ personal_info.name }}, {{ personal_info.title }} with technical skills and portfolio projects.{% endblock %}

{% block core_css %}
<link rel="stylesheet" href="{% static 'core/css/resume-preview.css' %}">
{% endblock %}

{% block core_content %}
<div class="resume-preview-container">
    <!-- Resume Header -->
    <header class="resume-header">
        <div class="unified-dashboard-container teal">
            <div class="resume-header-content">
                <div class="resume-name-section">
                    <h1 class="resume-name">{{ personal_info.name }}</h1>
                    <p class="resume-title">{{ personal_info.title }}</p>
                    <p class="resume-subtitle">{{ personal_info.subtitle }}</p>
                </div>
                
                <div class="resume-contact-section">
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <a href="mailto:{{ personal_info.email }}">{{ personal_info.email }}</a>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-globe"></i>
                        <a href="{{ personal_info.website }}" target="_blank">{{ personal_info.website }}</a>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>{{ personal_info.location }}</span>
                    </div>
                </div>
                
                <div class="resume-actions">
                    <a href="{% url 'core:resume_download_format' 'pdf' %}" class="btn btn-primary">
                        <i class="fas fa-download"></i> Download PDF
                    </a>
                    <a href="{% url 'core:about' %}" class="btn btn-outline-secondary">
                        <i class="fas fa-user"></i> Full Portfolio
                    </a>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Professional Summary -->
    <section class="resume-section">
        <div class="unified-dashboard-container navy">
            <h2 class="section-title">Professional Summary</h2>
            <p class="summary-text">{{ summary }}</p>
        </div>
    </section>
    
    <!-- Key Metrics -->
    <section class="resume-section">
        <div class="unified-dashboard-container coral">
            <h2 class="section-title">Portfolio Metrics</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-number">{{ metrics.total_skills }}</div>
                    <div class="metric-label">Technical Skills</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">{{ metrics.portfolio_projects }}</div>
                    <div class="metric-label">Portfolio Projects</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">{{ metrics.technologies }}</div>
                    <div class="metric-label">Technologies</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number">{{ metrics.blog_posts }}</div>
                    <div class="metric-label">Technical Articles</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Technical Skills -->
    <section class="resume-section">
        <div class="unified-dashboard-container lavender">
            <h2 class="section-title">Technical Skills</h2>
            <div class="skills-grid">
                {% for category, data in skills_by_category.items %}
                <div class="skill-category-card">
                    <h3 class="skill-category-title">{{ data.label }}</h3>
                    <div class="skills-list">
                        {% for skill in data.skills %}
                        <div class="skill-item">
                            <div class="skill-name">{{ skill.name }}</div>
                            <div class="skill-proficiency">{{ skill.proficiency_text }}</div>
                            {% if skill.technologies %}
                            <div class="skill-technologies">
                                {% for tech in skill.technologies|slice:":3" %}
                                <span class="tech-tag">{{ tech }}</span>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    
    <!-- Portfolio Projects -->
    {% if portfolio_projects %}
    <section class="resume-section">
        <div class="unified-dashboard-container yellow">
            <h2 class="section-title">Portfolio Projects</h2>
            <div class="projects-grid">
                {% for project in portfolio_projects %}
                <div class="project-card">
                    <h3 class="project-title">{{ project.name }}</h3>
                    {% if project.completion_date %}
                    <p class="project-date">Completed: {{ project.completion_date }}</p>
                    {% endif %}
                    <p class="project-description">{{ project.description }}</p>
                    {% if project.technologies %}
                    <div class="project-technologies">
                        {% for tech in project.technologies %}
                        <span class="tech-tag">{{ tech }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    <div class="project-links">
                        {% if project.live_url %}
                        <a href="{{ project.live_url }}" target="_blank" class="project-link">
                            <i class="fas fa-external-link-alt"></i> Live Demo
                        </a>
                        {% endif %}
                        {% if project.github_url %}
                        <a href="{{ project.github_url }}" target="_blank" class="project-link">
                            <i class="fab fa-github"></i> Source Code
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}
    
    <!-- Education & Experience in two columns -->
    <div class="two-column-section">
        <!-- Education -->
        {% if education %}
        <section class="resume-section">
            <div class="unified-dashboard-container green">
                <h2 class="section-title">Education</h2>
                {% for edu in education %}
                <div class="education-item">
                    <h3 class="item-title">{{ edu.degree }}</h3>
                    <p class="item-subtitle">{{ edu.institution }}</p>
                    <p class="item-date">{{ edu.start_date }} to {{ edu.end_date }}</p>
                    {% if edu.description %}
                    <p class="item-description">{{ edu.description }}</p>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </section>
        {% endif %}
        
        <!-- Professional Experience -->
        {% if experience %}
        <section class="resume-section">
            <div class="unified-dashboard-container purple">
                <h2 class="section-title">Professional Experience</h2>
                {% for exp in experience %}
                <div class="experience-item">
                    <h3 class="item-title">{{ exp.position }}</h3>
                    <p class="item-subtitle">{{ exp.company }}{% if exp.location %}, {{ exp.location }}{% endif %}</p>
                    <p class="item-date">{{ exp.start_date }} to {{ exp.end_date }}</p>
                    <p class="item-description">{{ exp.description }}</p>
                    {% if exp.technologies %}
                    <div class="experience-technologies">
                        {% for tech in exp.technologies %}
                        <span class="tech-tag">{{ tech }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </section>
        {% endif %}
    </div>
    
    <!-- Footer -->
    <footer class="resume-footer">
        <div class="unified-dashboard-container navy">
            <div class="footer-content">
                <p><i class="fas fa-sync-alt"></i> This resume is automatically updated with the latest portfolio information</p>
                <p><i class="fas fa-download"></i> 
                    Download in multiple formats: 
                    <a href="{% url 'core:resume_download_format' 'pdf' %}">PDF</a> | 
                    <a href="{% url 'core:resume_download_format' 'json' %}">JSON</a> | 
                    <a href="{% url 'core:resume_download_format' 'txt' %}">TXT</a>
                </p>
                <p class="generated-date">Generated {{ generated_date }}</p>
            </div>
        </div>
    </footer>
</div>
{% endblock %}
